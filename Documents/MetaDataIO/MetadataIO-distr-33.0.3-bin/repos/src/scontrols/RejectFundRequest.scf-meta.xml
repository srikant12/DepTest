<?xml version="1.0" encoding="UTF-8"?>
<Scontrol xmlns="http://soap.sforce.com/2006/04/metadata">
    <contentSource>HTML</contentSource>
    <description>A process to reject a fund request, which was either submitted or previously approved. The process changes the status to “Rejected” and updates the channel budget for previously approved requests.</description>
    <encodingKey>UTF-8</encodingKey>
    <fileContent>Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFNDT05UUk9MIFNIQVJFRCBGVU5DVElPTlMgU1RBUlQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8qIEZ1bmN0aW9ucyB1c2VkIGJ5IGV2ZXJ5IGJ1ZGdldCByZWxhdGVkIHMtY29udHJvbC4gUGxhY2VkIGluIHRoaXMgZmlsZSByYXRoZXIgdGhhbiANCnJlcGVhdGluZyBpdCBpbiBlYWNoIGZpbGUqLyANCg0KZnVuY3Rpb24gYWRkUHJvdG90eXBlcygpIHtTZm9yY2UuVXRpbC5QYXJzZURhdGUgPSBmdW5jdGlvbih2YWwpIHtpZiAoU2ZvcmNlLlV0aWwuZGx0eXBlb2YodmFsKSA9PSAiZGF0ZSIpIHJldHVybiB2YWw7dmFyIHByZWZlckV1cm89KGFyZ3VtZW50cy5sZW5ndGg9PTIpP2FyZ3VtZW50c1sxXTpmYWxzZTtnZW5lcmFsRm9ybWF0cz1uZXcgQXJyYXkoJ3ktTS1kJywnTU1NIGQsIHknLCdNTU0gZCx5JywneS1NTU0tZCcsJ2QtTU1NLXknLCdNTU0gZCcpO21vbnRoRmlyc3Q9bmV3IEFycmF5KCdNL2QveScsJ00tZC15JywnTS5kLnknLCdNTU0tZCcsJ00vZCcsJ00tZCcpO2RhdGVGaXJzdCA9bmV3IEFycmF5KCdkL00veScsJ2QtTS15JywnZC5NLnknLCdkLU1NTScsJ2QvTScsJ2QtTScpO3ZhciBjaGVja0xpc3Q9bmV3IEFycmF5KGdlbmVyYWxGb3JtYXRzLHByZWZlckV1cm8/ZGF0ZUZpcnN0Om1vbnRoRmlyc3QscHJlZmVyRXVybz9tb250aEZpcnN0OmRhdGVGaXJzdCk7dmFyIGQ9bnVsbDtmb3IgKHZhciBpPTA7IGk8Y2hlY2tMaXN0Lmxlbmd0aDsgaSsrKSB7dmFyIGw9Y2hlY2tMaXN0W2ldO2ZvciAodmFyIGo9MDsgajxsLmxlbmd0aDsgaisrKSB7ZD1TZm9yY2UuVXRpbC5HZXREYXRlRnJvbUZvcm1hdCh2YWwsbFtqXSk7c2ZvcmNlQ2xpZW50LmRlYnVnbG9nLndyaXRlbG4oaiArICIgLSBGb3JtYXRlZCBkYXRlID0gIiArIGQpO2lmIChkIT0wKSB7IHJldHVybiBuZXcgRGF0ZShkKTsgfX19cmV0dXJuIG51bGw7fTt9DQoNCi8vIG9ubG9hZCByb3V0aW5lIGdldHMgcGlja2VkIHVwIG9uIHN0YXJ0aW5nIHNjb250cm9sIA0KZnVuY3Rpb24gb25Mb2FkKCkgeyANCglhZGRQcm90b3R5cGVzKCk7DQoJaWYgKHN0YXJ0dXAoKSA9PSB0cnVlKSB7DQoJCWlmIChpbml0aWFsaXplRm9ybSgpID09IHRydWUpIHsNCgkJCS8vbGF1bmNoIG1haW4gcHJvY2VzcyANCgkJCW1haW4oKTsNCgkJCWNsb3NlV2luZG93KCk7DQoJCX0NCgl9IGVsc2Ugew0KCQlhbGVydCgiWW91IGFyZSBub3QgbG9nZ2VkIGluIik7IA0KCQljbG9zZVdpbmRvdygpOw0KCX0NCn0gLy8gb25Mb2FkKCkgDQoNCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTQ09OVFJPTCBTSEFSRUQgRlVOQ1RJT05TICBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZPUk0gUkVMQVRFRCBGVU5DVElPTlMgIFNUQVJUIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQp2YXIgdmFsaWRhdGlvblBhZ2VFcnJvckhlYWRlciA9ICJFcnJvcjogSW52YWxpZCBEYXRhLjxicj5SZXZpZXcgYWxsIGVycm9yIG1lc3NhZ2VzIGJlbG93IHRvIGNvcnJlY3QgeW91ciBkYXRhLiI7DQoNCi8qDQpUaGlzIGZ1bmN0aW9uIHRha2VzIGEgcGFyYWdyYXBoIGhlYWRpbmcgYW5kIGEgc3RyaW5nIGFuZCBhbmQgb3V0cHV0cyBpdCB0byB0aGUgbmFtZWQgZGl2DQppbiB0aGUgaHRtbCBwYWdlIHNvIHRoZSB1c2VyIGtub3dzIHdoYXQgd2VudCB3cm9uZy4NCiovDQpmdW5jdGlvbiBvdXRwdXRGb3JtTWVzc2FnZShtZXNzYWdlKSB7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRpdkVycm9yTXNnIikuaW5uZXJIVE1MID0gbWVzc2FnZTsNCn0NCg0KZnVuY3Rpb24gcmVTaXplV2luZG93KCkgew0KCS8vSGlkZSB0aGUgSmF2YXNjcmlwdCBkaXYNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiSmF2YVNjcmlwdEVuYWJsZWQiKS5jbGFzc05hbWUgPSAnaGlkZGVuJzsNCgkNCgkvL1Jlc2l6ZSB0aGUgd2luZG93IGZyb20gdGhlIGFyYml0cmFyeSB3aW5kb3cgc2l6ZSB0aGUgcy1jb250cm9sIG9wZW5lZCB1cCB3aXRoDQoJdmFyIGggPSA1NTA7DQoJdmFyIHcgPSA3MDA7DQoJdG9wLnJlc2l6ZVRvKHcsaCk7DQoJd2luZG93Lm1vdmVUbygoc2NyZWVuLndpZHRoLXcpLzIsKHNjcmVlbi5oZWlnaHQtaCkvMik7DQp9DQoNCmZ1bmN0aW9uIGRyYXdVcGRhdGluZygpIHsNCglkb2N1bWVudC53cml0ZSgnPGZvcm0gIGFjdGlvbj0iL191aS9jb21tb24vZGF0YS9Mb29rdXBSZXN1bHRzRnJhbWUiIGlkPSJuZXciIG5hbWU9Im5ldyIgbWV0aG9kPSJHRVQiID4nKTsNCglkb2N1bWVudC53cml0ZSgnICA8ZGl2IGlkPSJ1cGRhdGluZyIgY2xhc3M9Imxvb2t1cCI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICA8IS0tIEJlZ2luIExpc3RFbGVtZW50IC0tPicpOw0KCWRvY3VtZW50LndyaXRlKCcgICAgPGRpdiBjbGFzcz0iYlBhZ2VCbG9jayBzZWNvbmRhcnlQYWxldHRlIj4nKTsNCglkb2N1bWVudC53cml0ZSgnICAgICAgPGRpdiBjbGFzcz0icGJIZWFkZXIiPjwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJICA8ZGl2IGNsYXNzPSJwYkJvZHkiPicpOw0KCWRvY3VtZW50LndyaXRlKCcJICA8ZGl2IGNsYXNzPSJwYlN1YnNlY3Rpb24iPicpOw0KCWRvY3VtZW50LndyaXRlKCcgICAgICAgIDx0YWJsZSB3aWR0aD0iMTAwJSI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICAgICAgICA8dHI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICAgICAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+PHNwYW4gY2xhc3M9Im1vZHVsZVRpdGxlIj5VcGRhdGluZyAuLi4gUGxlYXNlIFdhaXQ8L3NwYW4+PC90ZD4nKTsNCglkb2N1bWVudC53cml0ZSgnICAgICAgICAgIDwvdHI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICAgICAgICA8dHI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICAgICAgICAgIDx0ZD4mbmJzcDs8L3RkPicpOw0KCWRvY3VtZW50LndyaXRlKCcgICAgICAgICAgPC90cj4nKTsNCglkb2N1bWVudC53cml0ZSgnICAgICAgICAgIDx0cj4nKTsNCglkb2N1bWVudC53cml0ZSgnICAgICAgICAgICAgPHRkIGFsaWduPWNlbnRlcj48aW1nIHNyYz0iL2ltZy93YWl0aW5nX2RvdHMuZ2lmIiBib3JkZXI9IjAiIHdpZHRoPTE1NiBoZWlnaHQ9MzQ+IDwvdGQ+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICAgICAgICA8L3RyPicpOw0KCWRvY3VtZW50LndyaXRlKCcgICAgICAgIDwvdGFibGU+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICAgIDwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJICA8L2Rpdj4nKTsNCiAgIAlkb2N1bWVudC53cml0ZSgnICA8ZGl2IGNsYXNzPSJwYkZvb3RlciBzZWNvbmRhcnlQYWxldHRlIj4nKTsNCglkb2N1bWVudC53cml0ZSgnICAgICAgICA8ZGl2IGNsYXNzPSJiZyI+PC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICAgIDwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcgICAgPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICA8ZGl2IGNsYXNzPSJsaXN0RWxlbWVudEJvdHRvbU5hdiI+PC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgICA8IS0tIEVuZCBMaXN0RWxlbWVudCAtLT4nKTsNCglkb2N1bWVudC53cml0ZSgnICAgIDxkaXYgY2xhc3M9ImZvb3RlciI+Q29weXJpZ2h0ICZjb3B5OyAyMDAwLTIwMDUgc2FsZXNmb3JjZS5jb20sIGluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnICA8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnPC9mb3JtPicpOw0KfQ0KDQpmdW5jdGlvbiB3cml0ZUZpZWxkU2VjdGlvbigpIHsNCglkb2N1bWVudC53cml0ZSgnCTxmb3JtIG5hbWU9IkVudHJ5UGFnZSIgYWN0aW9uPSJqYXZhc2NyaXB0OnNhdmUoKSI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwk8ZGl2IGlkPSJmaWVsZFNlY3Rpb24iIGNsYXNzPSJoaWRkZW4iPicpOw0KCWRvY3VtZW50LndyaXRlKCcJPGRpdiBjbGFzcz0ibG9va3VwIj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQk8ZGl2IGNsYXNzPSJiUGFnZVRpdGxlIj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJPGRpdiBjbGFzcz0icHRCb2R5IHByaW1hcnlQYWxldHRlIj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPjwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQk8ZGl2IGNsYXNzPSJwQm9keSI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCTxkaXYgaWQ9ImRpdkVycm9yTXNnIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI0MwMDsiPkVycm9yOiBJbnZhbGlkIERhdGEuIDxicj5SZXZpZXcgYWxsIGVycm9yIG1lc3NhZ2VzIGJlbG93IHRvIGNvcnJlY3QgeW91ciBkYXRhLjwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCTwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCTxkaXYgY2xhc3M9ImJQYWdlQmxvY2sgc2Vjb25kYXJ5UGFsZXR0ZSI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCTxkaXYgY2xhc3M9InBiSGVhZGVyIj48L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJPGRpdiBjbGFzcz0icGJCb2R5Ij4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCTxkaXYgY2xhc3M9InBiU3Vic2VjdGlvbiI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTxkaXYgaWQ9InJlYWRPbmx5RmllbGQwIiBjbGFzcz0iaGlkZGVuIj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCTxUQUJMRSAgY2xhc3M9ImRldGFpbExpc3QiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIj48dHI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJPFREIGNsYXNzPSJsYWJlbENvbCIgd2lkdGg9IjMwMCI+PGRpdiBpZD0icmVhZE9ubHlGaWVsZE5hbWUwIj48L2Rpdj48L1REPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCTxURCBjbGFzcz0iZGF0YUNvbCBjb2wwMiI+PGRpdiBpZD0icmVhZE9ubHlGaWVsZFZhbHVlMCI+PC9kaXY+PC9URD4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCTwvdHI+PC90YWJsZT4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJyAgCQkJCQkJPGRpdiBpZD0icmVhZE9ubHlGaWVsZDEiIGNsYXNzPSJoaWRkZW4iPicpOw0KCWRvY3VtZW50LndyaXRlKCcgIAkJCQkJCQk8VEFCTEUgIGNsYXNzPSJkZXRhaWxMaXN0IiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGJvcmRlcj0iMCI+PHRyPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCTxURCBjbGFzcz0ibGFiZWxDb2wiIHdpZHRoPSIzMDAiPjxkaXYgaWQ9InJlYWRPbmx5RmllbGROYW1lMSI+PC9kaXY+PC9URD4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQk8VEQgY2xhc3M9ImRhdGFDb2wgY29sMDIiPjxkaXYgaWQ9InJlYWRPbmx5RmllbGRWYWx1ZTEiPjwvZGl2PjwvVEQ+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTwvdHI+PC90YWJsZT4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8ZGl2IGlkPSJyZWFkT25seUZpZWxkMiIgY2xhc3M9ImhpZGRlbiI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTxUQUJMRSAgY2xhc3M9ImRldGFpbExpc3QiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIj48dHI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQk8VEQgY2xhc3M9ImxhYmVsQ29sIiB3aWR0aD0iMzAwIj48ZGl2IGlkPSJyZWFkT25seUZpZWxkTmFtZTIiPjwvZGl2PjwvVEQ+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQk8VEQgY2xhc3M9ImRhdGFDb2wgY29sMDIiPjxkaXYgaWQ9InJlYWRPbmx5RmllbGRWYWx1ZTIiPjwvZGl2PjwvVEQ+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTwvdHI+PC90YWJsZT4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8ZGl2IGlkPSJyZWFkT25seUZpZWxkMyIgY2xhc3M9ImhpZGRlbiI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTxUQUJMRSAgY2xhc3M9ImRldGFpbExpc3QiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIj48dHI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQk8VEQgY2xhc3M9ImxhYmVsQ29sIiB3aWR0aD0iMzAwIj48ZGl2IGlkPSJyZWFkT25seUZpZWxkTmFtZTMiPjwvZGl2PjwvVEQ+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQk8VEQgY2xhc3M9ImRhdGFDb2wgY29sMDIiPjxkaXYgaWQ9InJlYWRPbmx5RmllbGRWYWx1ZTMiPjwvZGl2PjwvVEQ+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTwvVFI+PC90YWJsZT4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8ZGl2IGlkPSJhcHByb3ZlZEFtb3VudCIgY2xhc3M9ImhpZGRlbiI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTxUQUJMRSAgY2xhc3M9ImRldGFpbExpc3QiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIj48dHI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQk8VEQgY2xhc3M9ImxhYmVsQ29sIiB3aWR0aD0iMzAwIiBhbGlnbj0icmlnaHQiID4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQk8ZGl2IGlkPSJhbW91bnRMYWJlbCIgY2xhc3M9ImhpZGRlbiI+QXBwcm92ZWQgQW1vdW50PC9kaXY+PC9URD4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCTxURCBjbGFzcz0iZGF0YUNvbCI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJPGRpdiBpZD0icmVxdWlyZWRBbW91bnRJbnB1dFdyYXBwZXIiIGNsYXNzPSJoaWRkZW4iPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCQk8ZGl2IGNsYXNzPSJyZXF1aXJlZElucHV0Ij4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQkJCTxkaXYgaWQ9IkFwcHJvdmVBbW91bnRSZXF1aXJlZCIgY2xhc3M9InJlcXVpcmVkQmxvY2siPjwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCQkJPGRpdiBpZD0iYXBwcm92ZWRWYWx1ZUZpZWxkIiBjbGFzcz0iaGlkZGVuIj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQkJCQk8aW5wdXQgaWQ9ImFwcHJvdmVkVmFsdWUiIHNpemU9IjIwIiBuYW1lPSJhcHByb3ZlZFZhbHVlIiB0aXRsZT0iQXBwcm92ZWQgQW1vdW50Ij4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQkJCQk8c3BhbiBjbGFzcz0icGJFcnJvciI+PGRpdiBpZD0iYW1vdW50RXJyb3IiIGNsYXNzPSJ2aXNpYmxlIiBzdHlsZT0idGV4dC1hbGlnbjpsZWZ0OyI+QXR0ZW50aW9uIFJlcXVpcmVkIDogPGJyPllvdSBtdXN0IGVudGVyIGFuIGFwcHJvdmVkIGFtb3VudC48L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQkJCQk8L3NwYW4+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJCQk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQkJPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQk8L1REPgknKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJPC9UUj48L3RhYmxlPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCTwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCTxkaXYgaWQ9ImJ1ZGdldCIgY2xhc3M9ImhpZGRlbiI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCTxUQUJMRSAgY2xhc3M9ImRldGFpbExpc3QiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIj48dHI+CScpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJPFREIGNsYXNzPSJsYWJlbENvbCIgd2lkdGg9IjMwMCIgYWxpZ249InJpZ2h0Ij4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQk8ZGl2IGlkPSJidWRnZXRMYWJlbCIgY2xhc3M9ImhpZGRlbiI+Q2hhbm5lbCBCdWRnZXQ8L2Rpdj48L1REPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJPFREIGNsYXNzPSJkYXRhQ29sIj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQk8ZGl2IGlkPSJyZXF1aXJlZEJ1ZGdldElucHV0V3JhcHBlciIgY2xhc3M9ImhpZGRlbiI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJCTxkaXYgY2xhc3M9InJlcXVpcmVkSW5wdXQiPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCQkJPGRpdiBpZD0iQnVkZ2V0UmVxdWlyZWQiIGNsYXNzPSJyZXF1aXJlZEJsb2NrIj48L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJCQkJCTxkaXYgaWQ9ImFwcHJvdmVkQnVkZ2V0RmllbGQiIGNsYXNzPSJoaWRkZW4iPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCQkJCTxzZWxlY3QgaWQ9ImJ1ZGdldFZhbHVlcyI+PC9zZWxlY3Q+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJCQkJPHNwYW4gY2xhc3M9InBiRXJyb3IiPjxkaXYgaWQ9ImJ1ZGdldEVycm9yIiBjbGFzcz0idmlzaWJsZSIgc3R5bGU9InRleHQtYWxpZ246bGVmdDsiPkF0dGVudGlvbiBSZXF1aXJlZCA6IDxicj5Zb3UgbXVzdCBzZWxlY3QgYSBidWRnZXQuPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJCQkJPC9zcGFuPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCQkJPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJCQkJCTwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJCTwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJPC9URD4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8L1RSPjwvdGFibGU+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQk8YnI+Jyk7DQogICAgZG9jdW1lbnQud3JpdGUoJwk8L2Zvcm0+Jyk7DQogICAgZG9jdW1lbnQud3JpdGUoJwk8Zm9ybSBhY3Rpb249ImphdmFzY3JpcHQ6c2F2ZSgpIj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCTxUQUJMRSBib3JkZXI9IjAiIGFsaWduPSJjZW50ZXIiICBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCTxUUj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQkJPFREPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJPGlucHV0IGlkPSJTYXZlQnV0dG9uIiBjbGFzcz0iYnRuIiB2YWx1ZT0iIFNhdmUgIiAgc2l6ZT0iNiIgIHRpdGxlPSJTYXZlIiBvbkNsaWNrPSJzYXZlKCkiPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJCQkJPGlucHV0IGlkPSJDYW5jZWwiIHZhbHVlPSJDYW5jZWwiICBzaXplPSI2IiBjbGFzcz0iYnRuIiB0aXRsZT0iQ2FuY2VsIiBvbkNsaWNrPSJ3aW5kb3cuY2xvc2UoKSI+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCQkJPC9URD4nKTsNCglkb2N1bWVudC53cml0ZSgnCQkJCQk8L1RSPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQkJPC9UQUJMRT48YnI+Jyk7DQogICAgZG9jdW1lbnQud3JpdGUoJwk8L2Zvcm0+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJCTwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCTwvZGl2PicpOw0KCWRvY3VtZW50LndyaXRlKCcJCTxkaXYgY2xhc3M9InBiRm9vdGVyIHNlY29uZGFyeVBhbGV0dGUiPicpOw0KCWRvY3VtZW50LndyaXRlKCcJCQk8ZGl2IGNsYXNzPSJiZyI+PC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwkJPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCTxkaXYgY2xhc3M9Imxpc3RFbGVtZW50Qm90dG9tTmF2Ij48L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCQk8ZGl2IGNsYXNzPSJmb290ZXIiPkNvcHlyaWdodCAmY29weTsgMjAwMC0yMDA1IHNhbGVzZm9yY2UuY29tLCBpbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuPC9kaXY+Jyk7DQoJZG9jdW1lbnQud3JpdGUoJwk8L2Rpdj4nKTsNCglkb2N1bWVudC53cml0ZSgnCTwvZGl2PicpOw0KfQ0KDQovL1BvcHVsYXRlcyBhIHNlbGVjdCBib3ggZ2l2ZW4gYSBxdWVyeSBhbmQgb3RoZXIgcGFyYW1ldGVycw0KZnVuY3Rpb24gcG9wdWxhdGVTZWxlY3RMaXN0KHNlbGVjdExpc3QsIHF1ZXJ5LCBiU29ydCwgdmFsRmllbGQsIG5hbWVGaWVsZCwgZm9ybWF0U3RyaW5nKSB7DQoJdmFyIHFyPWdldFJlY29yZHMocXVlcnkpOw0KCWlmKHFyLnNpemUgPiAwKSB7DQoJCS8vcXIubG9hZFNlbGVjdEVsZW1lbnQoc2VsZWN0TGlzdCwgYlNvcnQsIHZhbEZpZWxkLCBuYW1lRmllbGQsIGZvcm1hdFN0cmluZyk7DQoJCXZhciBpZDsNCgkJdmFyIG5hbWU7DQoJCWZvciAoaT0wOyBpPHFyLnNpemU7aSsrKXsNCgkJCWlkID0gcXIucmVjb3Jkc1tpXS5nZXQoImlkIik7DQoJCQluYW1lID0gcXIucmVjb3Jkc1tpXS5nZXQoIm5hbWUiKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWRnZXRWYWx1ZXMiKS5vcHRpb25zW2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWRnZXRWYWx1ZXMiKS5vcHRpb25zLmxlbmd0aF0gPSBuZXcgT3B0aW9uKG5hbWUsIGlkKTsNCgkJfQ0KCX0NCg0KfQ0KDQovL1BvcHVsYXRlcyBhbiBpbnB1dCBmaWVsZCBnaXZlbiBhIHF1ZXJ5IGFuZCBvdGhlciBwYXJhbWV0ZXJzDQpmdW5jdGlvbiBwb3B1bGF0ZUZpZWxkVmFsdWUoZm9ybUVsZW1lbnQsIHF1ZXJ5LCBmaWVsZE5hbWUpIHsNCgl2YXIgcXI9Z2V0UmVjb3JkcyhxdWVyeSk7DQoJaWYgKHFyLmNsYXNzTmFtZSA9PSAiUXVlcnlSZXN1bHQiKSB7DQoJCWlmKHFyLnNpemUgPiAwKSB7DQoJCQlmb3JtRWxlbWVudC52YWx1ZSA9IHFyLnJlY29yZHNbMF0uZ2V0KGZpZWxkTmFtZSk7DQoJCX0NCgl9DQp9DQoNCi8vIElmIHdlIGFyZSBwcm9ncmFtbWF0aWNhbGx5IGNsb3NpbmcgdGhlIHdpbmRvdywgc2V0IGZsYWcgc28gdXNlciBpcyBub3QgYXNrZWQgdG8gY29uZmlybSANCmZ1bmN0aW9uIGNsb3NlV2luZG93KCl7IA0Kd2luZG93LmNsb3NlKCk7IA0KfSANCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZPUk0gUkVMQVRFRCBGVU5DVElPTlMgRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0gR0VORVJJQyBGVU5DVElPTlMgVVNFRCBCWSBBTEwgQ0hBTk5FTCBBUFBTIFNDT05UUk9MUyBTVEFSVC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8qIFRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zIGFyZSB1c2VkIGJ5IHByYWN0aWNhbGx5IGFsbCB0aGUgY2hhbm5lbCBhcHBzIHMtY29udHJvbHMuIFRoZSBnb2FsIGlzIHRvIGNlbnRyYWxpemUNCmFzIG11Y2ggb2YgdGhlIGNvbW1vbiBjb2RlIGFzIHBvc3NpYmxlIGluIG9yZGVyIHRvIGVhc3kgbWFpbnRlbmFuY2UgY2hhbmdlcyBldGMuIA0KVGhlIGNvcmUgcy1jb250cm9scyBmb2N1cyBvbiB0aGUgcXVlcmllcyBhbmQgb3RoZXIgZmFjdG9ycyB0aGF0IGFyZSB1bmlxdWUgdG8gdGhhdCByZWNvcmQgYW5kIGFwcGxpY2F0aW9uDQoqLw0KDQovL1VzZWQgdG8gdmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzIGFyZSBmaWxsZWQgaW4gDQpmdW5jdGlvbiBnZW5lcmljSW5pdGlhbGl6ZUZvcm0oCXJlcXVlc3RlZEFtb3VudFZhbCwNCgkJCQkJCQkJYXBwcm92ZWRBbW91bnRWYWwsIA0KCQkJCQkJCQlhcHByb3ZlZEFtb3VudEZpZWxkTmFtZSwgDQoJCQkJCQkJCWFwcHJvdmVkQW1vdW50TWlzc2luZ01lc3NhZ2UsDQoJCQkJCQkJCXNlbGVjdGVkYnVkZ2V0SUQsIA0KCQkJCQkJCQliR2V0UGFyZW50LA0KCQkJCQkJCQlwYXJlbnRUYWJsZU5hbWUsDQoJCQkJCQkJCXBhcmVudElELA0KCQkJCQkJCQlzZWxlY3RlZGJ1ZGdldEZpZWxkTmFtZSwNCgkJCQkJCQkJb2JqZWN0VGFibGVOYW1lKSB7DQoJdmFyIHJldFZhbCA9IHRydWU7DQoJLy9EZXRlcm1pbmUgaWYgdGhlIGFwcCBoYXMgYmVlbiBjb25maWd1cmVkIHRvIHVzZSB0aGUgYnVkZ2V0LiBJZiBzbywgZW5zdXJlIHRoYXQgYSBidWRnZXQgaXMgc2VsZWN0ZWQNCglpZiAoYkZ1bmRVc2VCdWRnZXQpIHsNCgkJaWYoc2VsZWN0ZWRidWRnZXRJRCA9PSAiIikgew0KCQkJLy9UaGVyZSBpcyBubyBidWRnZXQgc2F2ZWQgaW4gdGhlIHJlY29yZC4gSG93ZXZlciB0aGUgcGFnZSBVUkwgbWF5IGhhdmUgcGFzc2VkIGluIGEgYnVkZ2V0IElEDQoJCQlpZiAoZ2V0VVJMUGFyYW0oImJpZCIpICE9ICIiKSB7DQoJCQkJLy9BIGJ1ZGdldCBJZCBoYXMgYmVlbiBwYXNzZWQgaW4gDQoJCQkJYnVkZ2V0SUQgPSBnZXRVUkxQYXJhbSgiYmlkIik7IA0KCQkJfSBlbHNlIGlmIChiR2V0UGFyZW50KSB7DQoJCQkJLy9nZXQgdGhlIHBhcmVudCBmdW5kIGJ1ZGdldCBpZCwgaWYgaXQgZXhpc3RzLiAodXNlZCBvbmx5IGZvciBjbGFpbXMgb3RoZXIgaGllcmFyY2hpY2FsIHIvc2hpcCkNCgkJCQl2YXIgdGFibGVOYW1lID0gcGFyZW50VGFibGVOYW1lOw0KCQkJCXZhciBzZWxlY3RGaWVsZHMgPSBuZXcgQXJyYXkoImlkIiwgIlNGRENfQ2hhbm5lbF9CdWRnZXRfX2MiKTsNCgkJCQl2YXIgY29uc3RyYWluQ29sdW1ucyA9IG5ldyBBcnJheSgiaWQiKTsNCgkJCQl2YXIgY29uc3RyYWluVmFsdWVzID0gbmV3IEFycmF5KHBhcmVudElEKTsNCgkJCQl2YXIgcXVlcnlSZXN1bHQ9Z2V0UmVjb3JkcyhidWlsZFNlbGVjdFN0YXRlbWVudCh0YWJsZU5hbWUsIHNlbGVjdEZpZWxkcywgY29uc3RyYWluQ29sdW1ucywgY29uc3RyYWluVmFsdWVzKSk7IA0KCQkJCWlmIChxdWVyeVJlc3VsdCAhPSBudWxsICYmIHF1ZXJ5UmVzdWx0LnNpemUgPjApIHsNCgkJCQkJLy9WYWxpZGF0ZSB0aGF0IHRoZSBwYXJlbnQgcmVxdWVzdCBoYXMgc3BlY2lmaWVkIGEgY2hhbm5lbCBidWRnZXQNCgkJCQkJdmFyIGlkID0gcXVlcnlSZXN1bHQucmVjb3Jkc1swXS5nZXQoIlNGRENfQ2hhbm5lbF9CdWRnZXRfX2MiKTsNCgkJCQkJaWYgKGlkICE9IG51bGwgJiYgaWQgIT0gIiIpDQoJCQkJCQlidWRnZXRJRCA9IHF1ZXJ5UmVzdWx0LnJlY29yZHNbMF0uZ2V0KCJTRkRDX0NoYW5uZWxfQnVkZ2V0X19jIik7DQoJCQkJfQ0KCQkJfQ0KCQkJaWYgKGJ1ZGdldElEID09ICIiKSB7DQoJCQkJLy9UaGVyZSBpcyBubyBidWRnZXQgaWQuIFByZXNlbnQgYSBsaXN0IHRvIGNob29zZSBmcm9tDQoJCQkJcG9wdWxhdGVTZWxlY3RMaXN0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWRnZXRWYWx1ZXMiKS5uYW1lLCAiU2VsZWN0IElkLCBOYW1lIGZyb20gU0ZEQ19DaGFubmVsX0J1ZGdldF9fYyIsIHRydWUsICJJZCIsIFsiTmFtZSJdLCAiTmFtZSIpOw0KCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVkZ2V0VmFsdWVzIikubGVuZ3RoID09IDApIHsNCgkJCQkJLy9ObyBidWRnZXRzIHdlcmUgcmV0dXJuZWQNCgkJCQkJLy90aGUgbmV4dCAxIGxpbmUgb2YgY29kZSBpcyB1c2VkIHRvIGdldCBhcm91bmQgc29tZSBodG1sIGhhY2suIFdpdGhvdXQgaXQgdGhlIGRyb3Bkb3duIGJveCBlbmRzIHVwIGJlaW5nIGF0IHRoZSBlbmQgb2YgdGhlIHBhZ2UNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldFZhbHVlcyIpLm9wdGlvbnNbZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldFZhbHVlcyIpLm9wdGlvbnMubGVuZ3RoXSA9IG5ldyBPcHRpb24oIiIsICIiKTsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldFZhbHVlcyIpLm9wdGlvbnMubGVuZ3RoID0gMDsNCgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldEVycm9yIikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVkZ2V0RXJyb3IiKS5pbm5lckhUTUwgPSAiQSBjaGFubmVsIGJ1ZGdldCBpcyByZXF1aXJlZC4gPEJSPkNyZWF0ZSBhIGJ1ZGdldCB0byBwcm9jZWVkIHdpdGggdGhpcyBwcm9jZXNzLiI7DQoJCQkJfQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWRnZXRWYWx1ZXMiKS5zZWxlY3RlZEluZGV4ID0gLTE7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpZWxkU2VjdGlvbiIpLmNsYXNzTmFtZSA9ICJ2aXNpYmxlIjsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVkZ2V0IikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1aXJlZEJ1ZGdldElucHV0V3JhcHBlciIpLmNsYXNzTmFtZSA9ICJ2aXNpYmxlIjsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVkZ2V0TGFiZWwiKS5jbGFzc05hbWUgPSAidmlzaWJsZSI7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldExhYmVsIikuaW5uZXJIVE1MID0gZ2V0RmllbGRMYWJlbChzZWxlY3RlZGJ1ZGdldEZpZWxkTmFtZSwgb2JqZWN0VGFibGVOYW1lKTsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwcm92ZWRCdWRnZXRGaWVsZCIpLmNsYXNzTmFtZSA9ICJ2aXNpYmxlIjsNCgkJCQlyZXRWYWwgPSBmYWxzZTsNCgkJCX0NCgkJfSANCgl9IA0KDQoJLy9JcyB0aGVyZSBhbiBhcHByb3ZlZCBhbW91bnQNCglpZiAoYXBwcm92ZWRBbW91bnRWYWwgPT0gIiIpIHsgDQoJCS8vVGhlcmUgaXMgbm8gYXBwcm92ZWQgYW1vdW50IHNhdmVkIGluIHRoZSByZWNvcmQuIEhvd2V2ZXIgdGhlIHBhZ2UgVVJMIG1heSBoYXZlIHBhc3NlZCBpbiBhbiBhcHByb3ZlZCBhbW91bnQNCgkJaWYgKGdldFVSTFBhcmFtKCJhcHYiKSAhPSAiIikgew0KCQkJLy9BbiBhcHByb3ZlZCBhbW91bnQgZmllbGQgaGFzIGJlZW4gcGFzc2VkIGluIA0KCQkJYXBwcm92ZWRBbW91bnRWYWx1ZSA9IGdldFVSTFBhcmFtKCJhcHYiKTsNCgkJfSBlbHNlIHsNCgkJCS8vRXhwb3NlIHRoZSBhcHByb3ZlZCBhbW91bnQgZmllbGQgZm9yIGVudHJ5LCBwcmltaW5nIGl0IHdpdGggdGhlIHJlcXVlc3RlZCBhbW91bnQuDQoJCQlpZiAoY29udmVydFRvTnVtYmVyKHJlcXVlc3RlZEFtb3VudFZhbCkgPT0gMCkNCgkJCQlyZXF1ZXN0ZWRBbW91bnRWYWwgPSAiIjsNCgkJCWVsc2UgDQoJCQkJcmVxdWVzdGVkQW1vdW50VmFsID0gY29udmVydFRvTnVtYmVyKHJlcXVlc3RlZEFtb3VudFZhbCk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmllbGRTZWN0aW9uIikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcHJvdmVkQW1vdW50IikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVpcmVkQW1vdW50SW5wdXRXcmFwcGVyIikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFtb3VudExhYmVsIikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFtb3VudExhYmVsIikuaW5uZXJIVE1MID0gZ2V0RmllbGRMYWJlbChhcHByb3ZlZEFtb3VudEZpZWxkTmFtZSwgb2JqZWN0VGFibGVOYW1lKTsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHByb3ZlZFZhbHVlRmllbGQiKS5jbGFzc05hbWUgPSAidmlzaWJsZSI7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwcm92ZWRWYWx1ZSIpLnZhbHVlID0gcmVxdWVzdGVkQW1vdW50VmFsOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcHJvdmVkVmFsdWUiKS5mb2N1cygpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFtb3VudEVycm9yIikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFtb3VudEVycm9yIikuaW5uZXJIVE1MID0gYXBwcm92ZWRBbW91bnRNaXNzaW5nTWVzc2FnZTsNCgkJCXJldFZhbCA9IGZhbHNlOyANCgkJfQ0KCX0NCg0KCS8vaWYgb25lIG9mIHRoZSBmaWVsZHMgZmFpbGVkIHZhbGlkYXRpb24sIHNob3cgdGhlIGFwcHJvcHJpYXRlIGVycm9yIG1lc3NhZ2UNCglpZiAocmV0VmFsID09IGZhbHNlKQ0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidXBkYXRpbmciKS5jbGFzc05hbWUgPSAnaGlkZGVuJzsNCglyZXR1cm4gcmV0VmFsOw0KfQ0KDQovL1VzZWQgdG8gc2hvdyByZWFkIG9ubHkvIGNvbnRlY3QgZmllbGRzIG9uIHRoZSBpbnRlcm1lZGlhdGUgdmFsaWRhdGlvbiBmb3JtDQpmdW5jdGlvbiBzaG93Rm9ybUNvbnRleHRGaWVsZHMoZmllbGRzTGlzdCwgZmllbGRzVmFsdWVzLCBvYmplY3ROYW1lKSB7DQoJLy9TaG93IHNvbWUgb3RoZXIgZmllbGRzIG9uIHRoZSBwb3AgdXAgcGFnZQ0KCXZhciBmaWVsZEluZm8gPSBnZXRGaWVsZExhYmVscyhmaWVsZHNMaXN0LCBvYmplY3ROYW1lKTsNCgkvL2w8IDQgYmVjYXVzZSB0aGVyZSBhcmUgb25seSA0IGZpZWxkIHBsYWNlaG9sZGVycyBpbiB0aGUgcGFnZSANCglmb3IobD0wO2w8ZmllbGRzTGlzdC5sZW5ndGggJiYgbDw0O2wrKyl7DQoJCXZhciBpID0gZ2V0QXJyYXlJbmRleChmaWVsZHNMaXN0W2xdLCBmaWVsZEluZm8pOw0KCQl2YXIgZGl2bmFtZSA9ICJyZWFkT25seUZpZWxkIiArIGw7DQoJCXZhciBuYW1lID0gInJlYWRPbmx5RmllbGROYW1lIiArIGw7DQoJCXZhciB2YWx1ZSA9ICJyZWFkT25seUZpZWxkVmFsdWUiICsgbDsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2bmFtZSkuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKS5pbm5lckhUTUwgPSBmaWVsZEluZm9baSsxXTsNCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmFsdWUpLmlubmVySFRNTCA9IGZpZWxkc1ZhbHVlc1tsXTsNCgl9DQp9DQoNCi8vR2VuZXJpYyBzYXZlIGZ1bmN0aW9uLCB1c2VkIGZvciB0aGUgdmFsaWRhdGlvbiBmb3JtDQpmdW5jdGlvbiBnZW5lcmljU2F2ZSh2YWxpZGF0ZUFtb3VudCwgdmFsaWRhdGVCdWRnZXQpIHsNCgkvL0Jvb2xlYW4gdGhhdCBpcyBzZXQgdG8gZmFsc2UgaWYgYW55IG9mIHRoZSB2YWxpZGF0aW9ucyBmYWlsDQoJdmFyIGJBbW91bnRQYXNzID0gdHJ1ZTsNCgl2YXIgYkJ1ZGdldFBhc3MgPSB0cnVlOw0KCQ0KCS8vQXJyYXkgdGhhdCBob2xkIHRoZSBVUkxzIHBhcmFtZXRlcnMgdGhhdCBhcmUgdXNlZCB0byByZXN1Ym1pdCB0aGUgcGFnZQ0KCXZhciBVUkxBcmdzID0gbmV3IEFycmF5KCk7DQoNCglpZiAodmFsaWRhdGVBbW91bnQpCXsNCgkJLy9WYWxpZGF0ZSB0aGF0IHRoZSBhcHByb3ZlZCBhbW91bnQgaXMgYSB2YWxpZCBiZWZvcmUgcHJvY2Vzc2luZyAoaWYgdGhpcyBmaWVsZCB3YXMgdmlzaWJsZSBvbiB0aGUgZm9ybSkNCgkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHByb3ZlZFZhbHVlRmllbGQiKS5jbGFzc05hbWUgPT0gInZpc2libGUiKSB7DQoJCQl2YXIgbWVzc2FnZTsNCg0KCQkJLy9GaWd1cmUgb3V0IHdoYXQgdGhlIG1lc3NhZ2UgbmVlZHMgdG8gYmUsIGJhc2VkIG9uIHRoZSBjYXVzZQ0KCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHByb3ZlZFZhbHVlIikudmFsdWUubGVuZ3RoID09IDApIHsNCgkJCQltZXNzYWdlICA9ICJFcnJvcjogWW91IG11c3QgZW50ZXIgYSB2YWx1ZSI7DQoJCQkJYkFtb3VudFBhc3MgPSBmYWxzZTsNCgkJCX0gZWxzZSBpZiAoIUlzTnVtZXJpYyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwcm92ZWRWYWx1ZSIpLnZhbHVlKSkgew0KCQkJCW1lc3NhZ2UgID0gIkVycm9yOiBJbnZhbGlkIGN1cnJlbmN5IjsNCgkJCQliQW1vdW50UGFzcyA9IGZhbHNlOw0KCQkJfQ0KDQoJCQkvL2lmIHRoZSB2YWxpZGF0aW9uIHBhc3NlZCBzZXQgdGhlIFVSTCBhcmcuDQoJCQlpZihiQW1vdW50UGFzcyA9PSB0cnVlKSB7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFtb3VudEVycm9yIikuY2xhc3NOYW1lID0gImhpZGRlbiI7DQoJCQkJVVJMQXJncy5wdXNoKCImYXB2PSIgKyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwcm92ZWRWYWx1ZSIpLnZhbHVlKTsNCgkJCX0gZWxzZSB7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFtb3VudEVycm9yIikuY2xhc3NOYW1lID0gInZpc2libGUiOw0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbW91bnRFcnJvciIpLmlubmVySFRNTCA9IG1lc3NhZ2U7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcHJvdmVkVmFsdWUiKS5mb2N1cygpOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJaWYgKHZhbGlkYXRlQnVkZ2V0KQl7DQoJCS8vVmFsaWRhdGUgdGhlIGJ1ZGdldCBmaWVsZCBiZWZvcmUgcHJvY2Vzc2luZyAoaWYgdGhpcyBmaWVsZCB3YXMgdmlzaWJsZSBvbiB0aGUgZm9ybSkNCgkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWRnZXQiKS5jbGFzc05hbWUgPT0gInZpc2libGUiKSB7DQoJCQl2YXIgbWVzc2FnZTsNCgkJCQ0KCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWRnZXRWYWx1ZXMiKS5sZW5ndGggPT0gMCkgew0KCQkJCW1lc3NhZ2UgPSAiQSBjaGFubmVsIGJ1ZGdldCBpcyByZXF1aXJlZC4gPEJSPkNyZWF0ZSBhIGJ1ZGdldCB0byBwcm9jZWVkIHdpdGggdGhpcyBwcm9jZXNzLiI7DQoJCQkJYkJ1ZGdldFBhc3MgPSBmYWxzZTsNCgkJCX0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldFZhbHVlcyIpLnNlbGVjdGVkSW5kZXggPT0gLTEpIHsNCgkJCQltZXNzYWdlID0gIkF0dGVudGlvbiBSZXF1aXJlZCA6IDxicj5Zb3UgbXVzdCBzZWxlY3QgYSBidWRnZXQuIjsNCgkJCQliQnVkZ2V0UGFzcyA9IGZhbHNlOw0KCQkJfQ0KDQoJCQlpZihiQnVkZ2V0UGFzcyA9PSB0cnVlKSB7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldEVycm9yIikuY2xhc3NOYW1lID0gImhpZGRlbiI7DQoJCQkJdmFyIGlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldFZhbHVlcyIpLm9wdGlvbnNbZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1ZGdldFZhbHVlcyIpLnNlbGVjdGVkSW5kZXhdLnZhbHVlOw0KCQkJCS8vVHJ1bmNhdGUgdGhlIDE4IGNoYXJhY3RlciBpZCB0byAxNSBjaGFyYWN0ZXJzDQoJCQkJaWQgPSBMZWZ0KGlkLCAxNSk7DQoJCQkJVVJMQXJncy5wdXNoKCImYmlkPSIgKyBpZCk7DQoJCQl9IGVsc2Ugew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWRnZXRFcnJvciIpLmNsYXNzTmFtZSA9ICJ2aXNpYmxlIjsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVkZ2V0RXJyb3IiKS5pbm5lckhUTUwgPSBtZXNzYWdlOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJLy9UaGUgdmFsaWRhdGUgaGFzIHBhc3NlZC4gRGV0ZXJtaW5lIHdoYXQgcGFyYW1ldGVycyBuZWVkIHRvIGJlIHBvc3QgcGVuZGVkIHRvIHRoZSBVUkwgZm9yIHJlc3VibWlzc2lvbg0KCWlmIChiQW1vdW50UGFzcyAmJiBiQnVkZ2V0UGFzcykgew0KCQkvL2dldCByaWQgb2YgYW55IHByZXZpb3VzbHkgYXBwZW5kZWQgcGFyYW1ldGVycyBiZWZvcmUgYWRkaW5nIG5ldyBwYXJhbWV0ZXJzDQoJCXZhciBVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsNCgkJaWYgKGdldFVSTFBhcmFtKCJiaWQiKSAhPSAiIikNCgkJCVVSTCA9IHJlbW92ZVVSTFBhcmFtKFVSTCwgImJpZCIpOw0KCQlpZiAoZ2V0VVJMUGFyYW0oImFwdiIpICE9ICIiKQ0KCQkJVVJMID0gcmVtb3ZlVVJMUGFyYW0oVVJMLCAiYXB2Iik7DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgVVJMQXJncy5sZW5ndGg7IGkrKykNCgkJCVVSTCArPSBVUkxBcmdzW2ldOw0KCQl3aW5kb3cubG9jYXRpb24ucmVwbGFjZShVUkwpOw0KCX0gZWxzZSB7DQoJCW91dHB1dEZvcm1NZXNzYWdlKHZhbGlkYXRpb25QYWdlRXJyb3JIZWFkZXIpOw0KCX0NCn0NCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEdFTkVSSUMgRlVOQ1RJT05TIFVTRUQgQlkgQUxMIENIQU5ORUwgQVBQUyBTQ09OVFJPTFMgRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLSBNRVRBIERBVEEgUkVMQVRFRCBGVU5DVElPTlMgU1RBUlQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLyoqDQpUaGlzIGZ1bmN0aW9uIHRha2VzIGEgZmllbGQgbmFtZSBhbmQgYW4gT2JqZWN0IG5hbWUgYW5kIGlmIHRoZQ0KZmllbGQgbmFtZSBpcyBhdmFpbGFibGUgdG8gdGhlIGN1cnJlbnQgdXNlciB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4NCmEgYm9vbGVhbiB2YWx1ZSBvZiB0cnVlLCBvdGhlcndpc2UgaXQgd2lsbCByZXR1cm4gZmFsc2UuDQpOT1RFOiBZb3UgbXVzdCBhcHBlbmQgJ19fYycgdG8gdGhlIGZpZWxkIGFuZC9vciBvYmplY3QgbmFtZSB3aGVuDQogICAgICAgdGhleSBhcmUgY3VzdG9tLg0KKi8NCmZ1bmN0aW9uIGNoZWNrRm9yQ3VzdG9tRmllbGQoZmllbGQsb2JqZWN0KXsNCg0KICAgIC8vUGVyZm9ybSBkZXNjcmliZSBvbiB0aGUgZ2l2ZW4gb2JqZWN0Lg0KICAgIGRzb1Jlc3VsdCA9IHNmb3JjZUNsaWVudC5EZXNjcmliZVNPYmplY3Qob2JqZWN0KTsNCg0KICAgIC8vRGVjbGFyZSB0aGUgYm9vbGVhbiBhbmQgc2V0IGl0IHRvIGZhbHNlLg0KICAgIHZhciBjaGVja0ZvckN1c3RvbUZpZWxkID0gbmV3IEJvb2xlYW4oZmFsc2UpOw0KDQogICAgLy9HZXQgdGhlIGFycmF5IG9mIGZpZWxkIG9iamVjdHMgZnJvbSB0aGUgRGVzY3JpYmVSZXN1bHQuDQogICAgZmllbGRzID0gZHNvUmVzdWx0LmZpZWxkczsNCg0KICAgIC8vTG9vcCB0aHJvdWdoIHRoZSBmaWVsZCBhcnJheSB0byBzZWUgaWYgdGhlIGZpZWxkIGV4aXN0cy4NCiAgICBmb3IobD0wO2w8ZmllbGRzLmxlbmd0aDtsKyspew0KICAgICAgICBmaWVsZEZyb21EZXNjcmliZSA9IGZpZWxkc1tsXTsNCiAgICAgICAgaWYgKGZpZWxkRnJvbURlc2NyaWJlLm5hbWUgPT0gZmllbGQpIHsNCiAgICAgICAgICAgIC8vRmllbGQgZm91bmQsIHNldCB0aGUgcmVzcG9uc2UgdmFyaWFibGUgdG8gdHJ1ZS4NCiAgICAgICAgICAgIHZhciBjaGVja0ZvckN1c3RvbUZpZWxkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHJldHVybiBjaGVja0ZvckN1c3RvbUZpZWxkOw0KDQp9DQovLyBUaGlzIGZ1bmN0aW9uIGdldHMgdGhlIGdpdmVuIGZpZWxkIGxhYmVsIGZyb20gdGhlIERlc2NyaWJlUmVzdWx0Lg0KZnVuY3Rpb24gZ2V0RmllbGRMYWJlbChmaWVsZCxvYmplY3QpIHsNCiAgICB2YXIgbGFiZWwgPSAiIjsNCiAgICBkc29SZXN1bHQgPSBzZm9yY2VDbGllbnQuRGVzY3JpYmVTT2JqZWN0KG9iamVjdCk7DQogICAgZmllbGRzID0gZHNvUmVzdWx0LmZpZWxkczsNCiAgICBmb3IobD0wO2w8ZmllbGRzLmxlbmd0aDtsKyspew0KICAgICAgICBmaWVsZEZyb21EZXNjcmliZSA9IGZpZWxkc1tsXTsNCiAgICAgICAgaWYgKGZpZWxkRnJvbURlc2NyaWJlLm5hbWUgPT0gZmllbGQpIHsNCiAgICAgICAgICAgIGwgPSBmaWVsZHMubGVuZ3RoOw0KICAgICAgICAgICAgbGFiZWwgPSBmaWVsZEZyb21EZXNjcmliZS5sYWJlbDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gbGFiZWw7DQp9DQoNCi8qIFRoaXMgZnVuY3Rpb24gZ2V0cyB0aGUgZmllbGQgbGFiZWwgZnJvbSB0aGUgRGVzY3JpYmVSZXN1bHQgZm9yIGEgc2V0IG9mIGZpZWxkdmFsdWVzDQpSZXR1cm5zIHRoZW0gaW4gYXJyYXkgd2l0aCB0aGUgc3ludGF4IGZpZWxkbmFtZSwgZmllbGQgbGFiZWwgKi8NCmZ1bmN0aW9uIGdldEZpZWxkTGFiZWxzKGdldFZhbHVlcyxvYmplY3QpIHsNCiAgICB2YXIgbGFiZWwgPSAiIjsNCgl2YXIgcmV0cmlldmVkTGFiZWxzID0gbmV3IEFycmF5KCk7DQogICAgZHNvUmVzdWx0ID0gc2ZvcmNlQ2xpZW50LkRlc2NyaWJlU09iamVjdChvYmplY3QpOw0KICAgIGZpZWxkcyA9IGRzb1Jlc3VsdC5maWVsZHM7DQoJZm9yKGw9MDtsPGZpZWxkcy5sZW5ndGg7bCsrKXsNCiAgICAgICAgZmllbGRGcm9tRGVzY3JpYmUgPSBmaWVsZHNbbF07DQogICAgICAgIGlmIChtYXRjaFZhbHVlKGdldFZhbHVlcywgZmllbGRGcm9tRGVzY3JpYmUubmFtZSkpIHsNCgkJCXJldHJpZXZlZExhYmVsc1tyZXRyaWV2ZWRMYWJlbHMubGVuZ3RoXSA9IGZpZWxkRnJvbURlc2NyaWJlLm5hbWU7DQoJCQlyZXRyaWV2ZWRMYWJlbHNbcmV0cmlldmVkTGFiZWxzLmxlbmd0aF0gPSBmaWVsZEZyb21EZXNjcmliZS5sYWJlbDsNCgkJCWlmKHJldHJpZXZlZExhYmVscy5sZW5ndGggLyAyID09IGdldFZhbHVlcy5sZW5ndGgpDQoJCQkJbCA9IGZpZWxkcy5sZW5ndGg7DQogICAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIHJldHJpZXZlZExhYmVsczsNCn0NCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0gTUVUQSBEQVRBIFJFTEFURUQgRlVOQ1RJT05TIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0gREFUQSBSRUxBVEVEIEZVTkNUSU9OUyBTVEFSVCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy9SZXR1cm5zIHRydWUgaWYgdGhlIHJlcVN0YXR1cyBpcyBjb250YWluZWQgaW4gdGhlIGFycmF5DQpmdW5jdGlvbiBtYXRjaFZhbHVlKHZhbGlkVmFsdWVzLHJlcVN0YXR1cykgew0KCXZhciBtYXRjaCA9IGZhbHNlOw0KCWZvciAodmFyIGkgPSAwOyBpIDwgdmFsaWRWYWx1ZXMubGVuZ3RoOyBpKyspew0KCQlpZih2YWxpZFZhbHVlc1tpXSA9PSByZXFTdGF0dXMpIHsNCgkJCW1hdGNoID0gdHJ1ZTsNCgkJCWJyZWFrOw0KCQl9DQoJfQ0KCXJldHVybiBtYXRjaDsNCn0NCg0KLy9HZXRzIHRoZSBpbmRleCBvZiBhIGdpdmVuIHZhbHVlIGluIGFuIGFycmF5DQpmdW5jdGlvbiBnZXRBcnJheUluZGV4KGNoZWNrVmFsdWUsIGFycmF5QXJnKSB7DQoJdmFyIHJldFZhbCA9IC0xOw0KCWZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlBcmcubGVuZ3RoOyBpKyspew0KCQlpZiAoYXJyYXlBcmdbaV0gPT0gY2hlY2tWYWx1ZSkgew0KCQkJcmV0VmFsID0gaTsNCgkJCWJyZWFrOw0KCQl9DQoJfQ0KCXJldHVybiByZXRWYWw7DQp9DQoNCi8vQ29uc3RydWN0cyBhIFNPQ0wgc3RhdGVtZW50IGZvciB0aGUgZ2l2ZW4gcGFyYW1ldGVycw0KZnVuY3Rpb24gYnVpbGRTZWxlY3RTdGF0ZW1lbnQodGFibGVOYW1lLCBzZWxlY3RGaWVsZHMsIGNvbnN0cmFpbkNvbHVtbnMsIGNvbnN0cmFpblZhbHVlcyl7IA0KDQoJLy9idWlsZCBmaWVsZG5hbWVzIA0KCXZhciBmaWVsZG5hbWVzID0gIiI7DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RGaWVsZHMubGVuZ3RoOyBpKyspew0KICAgICAgIAkJaWYgKGkgPiAwKSB7DQogICAgICAgICAgIAkJZmllbGRuYW1lcyArPSAnICwgJzsNCiAgICAgICAJCX0NCiAgICAgICAJCWZpZWxkbmFtZXMgKz0gc2VsZWN0RmllbGRzW2ldOw0KCX0NCg0KCS8vYnVpbGQgd2hlcmUgY2xhdXNlIA0KCXZhciB3aGVyZUNsYXVzZSA9ICIiOw0KCWlmIChjb25zdHJhaW5Db2x1bW5zLmxlbmd0aCA+IDApDQoJew0KCQl3aGVyZUNsYXVzZSA9ICIgd2hlcmUgIjsNCgl9DQoJZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zdHJhaW5Db2x1bW5zLmxlbmd0aDsgaSsrKXsNCiAgICAgICAJCWlmIChpID4gMCkgew0KICAgICAgIAkJCXdoZXJlQ2xhdXNlICs9ICIgYW5kICI7DQoJCX0NCiAgICAgICAJCXdoZXJlQ2xhdXNlICs9IGNvbnN0cmFpbkNvbHVtbnNbaV0gKyAiID0nIiArIGNvbnN0cmFpblZhbHVlc1tpXSArICInIjsNCgl9DQoNCgl2YXIgc3FsID0gInNlbGVjdCAiICsgZmllbGRuYW1lcyArICIgZnJvbSAiICsgdGFibGVOYW1lICsgd2hlcmVDbGF1c2U7DQoJZGVidWcoc3FsKTsNCglyZXR1cm4oc3FsKTsNCn0NCg0KLy9FeGVjdXRlcyBhIFNPQ0wgcXVlcnkNCmZ1bmN0aW9uIGdldFJlY29yZHMoc3FsKSB7DQoJdmFyIHF1ZXJ5UmVzdWx0PXNmb3JjZUNsaWVudC5RdWVyeShzcWwpOw0KCWRlYnVnKHF1ZXJ5UmVzdWx0LnRvU3RyaW5nKCkpOw0KCXJldHVybiBxdWVyeVJlc3VsdDsNCn0NCg0KLy9FeGVjdXRlcyBhIFNPQ0wgdXBkYXRlDQpmdW5jdGlvbiB1cGRhdGVGaWVsZHMocmVjb3JkVmFsLCBmaWVsZE5hbWVzLCBmaWVsZFZhbHVlcyl7DQoJLy9uZXcgYXJyYXkgdG8gaG9sZCByZXN1bHRzIG9mIHVwZGF0ZXMgDQoJdmFyIHVwZGF0ZU9iamVjdHMgPSBuZXcgQXJyYXkoMSk7IA0KDQoJLy8gYXNzaWduIGZpZWxkIHZhbHVlcyB0byBmaWVsZHMgDQoJZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgaSsrKXsNCiAgICAgICAJCXJlY29yZFZhbC5zZXQoZmllbGROYW1lc1tpXSwgZmllbGRWYWx1ZXNbaV0pOw0KCX0NCgl1cGRhdGVPYmplY3RzWzBdID0gcmVjb3JkVmFsOyANCgl2YXIgc2F2ZVJlc3VsdHMgPSBzZm9yY2VDbGllbnQuVXBkYXRlKHVwZGF0ZU9iamVjdHMpOyANCglkZWJ1ZyhzYXZlUmVzdWx0cy50b1N0cmluZygpKTsNCglyZXR1cm4gc2F2ZVJlc3VsdHM7DQp9DQoNCi8vRXhlY3V0ZXMgYW4gdXBkYXRlLCB0YWtpbmcgYSByZWNvcmQgYXJyYXkgYW5kIGZpZWxkIG5hbWVzIGFuZCB2YWx1ZSB0byB1cGRhdGUNCmZ1bmN0aW9uIHVwZGF0ZVJlY29yZHMocmVjb3JkcywgZmllbGROYW1lcywgZmllbGRWYWx1ZXMpew0KCS8vbmV3IGFycmF5IHRvIGhvbGQgcmVzdWx0cyBvZiB1cGRhdGVzIA0KCXZhciB1cGRhdGVPYmplY3RzID0gbmV3IEFycmF5KHJlY29yZHMuc2l6ZSk7IA0KDQoJLy8gYXNzaWduIGZpZWxkIHZhbHVlcyB0byBmaWVsZHMgDQoJZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgaSsrKXsNCgkJZm9yICh2YXIgeCA9IDA7IHggPCByZWNvcmRzLmxlbmd0aDsgeCsrKXsNCgkJCXJlY29yZHNbeF0uc2V0KGZpZWxkTmFtZXNbaV0sIGZpZWxkVmFsdWVzW2ldKTsNCgkJfQ0KCX0NCg0KCWZvciAodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKyl7DQoJCXVwZGF0ZU9iamVjdHNbaV0gPSByZWNvcmRzW2ldOyANCgl9DQoNCgl2YXIgc2F2ZVJlc3VsdHMgPSBzZm9yY2VDbGllbnQuVXBkYXRlKHVwZGF0ZU9iamVjdHMpOyANCglkZWJ1ZyhzYXZlUmVzdWx0cy50b1N0cmluZygpKTsNCglyZXR1cm4gc2F2ZVJlc3VsdHM7DQp9DQoNCmZ1bmN0aW9uIHJldHJpZXZlKGZpZWxkTmFtZXMsdGFibGVOYW1lLHJlY29yZElEcykgew0KCXJldHVybiBzZm9yY2VDbGllbnQuUmV0cmlldmUoZmllbGROYW1lcyx0YWJsZU5hbWUscmVjb3JkSURzKTsNCn0NCg0KLy9SZXR1cm5zIGEgc3VtbSBmb3IgYSBnaXZlbiBmaWVsZG5hbWUgaW4gYSBnaXZlbiByZXN1bHRzZXQNCmZ1bmN0aW9uIHN1bUZpZWxkVmFsdWUocXIsIGZpZWxkTmFtZSkgew0KCXZhciBmaWVsZFZhbHVlID0gMC4wMDsNCgl2YXIgdG1wVmFsID0gMC4wMDsgDQoJaWYgKHFyLmNsYXNzTmFtZSA9PSAiUXVlcnlSZXN1bHQiKSB7DQoJCWlmIChxci5zaXplID4gMCkgeyANCgkJCWZvciAodmFyIGk9MDtpPHFyLnJlY29yZHMubGVuZ3RoO2krKykgew0KCQkJCXRtcFZhbCA9IHBhcnNlRmxvYXQocXIucmVjb3Jkc1tpXS5nZXQoZmllbGROYW1lKSk7DQoJCQkJaWYgKCFJc051bWVyaWModG1wVmFsKSB8fCBpc05hTih0bXBWYWwpICkgew0KCQkJCQl0bXBWYWw9MC4wMDsgCQ0KCQkJIAl9DQoJCQkJZmllbGRWYWx1ZSA9IHBhcnNlRmxvYXQoZmllbGRWYWx1ZSkgKyBwYXJzZUZsb2F0KHRtcFZhbCk7IA0KCQkJfQ0KCQl9DQoJfQ0KCXJldHVybiBwYXJzZUZsb2F0KGZpZWxkVmFsdWUpOw0KfQ0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLSBEQVRBIFJFTEFURUQgRlVOQ1RJT05TICBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIERFQlVHIEZVTkNUSU9OUyBTVEFSVCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KLy8gU2hvdyB0aGUgZGVidWcgd2luZG93DQpmdW5jdGlvbiBzaG93RGVidWcoKSB7DQoJd2luZG93LnRvcC5kZWJ1Z1dpbmRvdyA9DQoJICB3aW5kb3cub3BlbigiIiwNCgkJCQkgICJEZWJ1ZyIsDQoJCQkJICAibGVmdD0wLHRvcD0wLHdpZHRoPTMwMCxoZWlnaHQ9NzAwLHNjcm9sbGJhcnM9eWVzLCINCgkJCQkgICsic3RhdHVzPXllcyxyZXNpemFibGU9eWVzIik7DQoJd2luZG93LnRvcC5kZWJ1Z1dpbmRvdy5vcGVuZXIgPSBzZWxmOw0KCS8vIG9wZW4gdGhlIGRvY3VtZW50IGZvciB3cml0aW5nDQoJd2luZG93LnRvcC5kZWJ1Z1dpbmRvdy5kb2N1bWVudC5vcGVuKCk7DQoJd2luZG93LnRvcC5kZWJ1Z1dpbmRvdy5kb2N1bWVudC53cml0ZSgNCgkgICI8SFRNTD48SEVBRD48VElUTEU+RGVidWcgV2luZG93PC9USVRMRT48L0hFQUQ+PEJPRFk+PFBSRT5cbiIpOw0KCS8vc2ZvcmNlQ2xpZW50LmRlYnVnbG9nLnNob3coKTsNCn0NCg0KLy8gSWYgdGhlIGRlYnVnIHdpbmRvdyBleGlzdHMsIHRoZW4gd3JpdGUgdG8gaXQNCmZ1bmN0aW9uIGRlYnVnKHZhbCkgew0KCWlmICh3aW5kb3cudG9wLmRlYnVnV2luZG93ICYmICEgd2luZG93LnRvcC5kZWJ1Z1dpbmRvdy5jbG9zZWQpIHsNCgkJd2luZG93LnRvcC5kZWJ1Z1dpbmRvdy5kb2N1bWVudC53cml0ZSh2YWwrIlxuIik7IA0KCX0NCgkvL3Nmb3JjZUNsaWVudC5kZWJ1Z2xvZy53cml0ZWxuKHZhbCk7DQp9DQoNCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBKQVZBU0NSSVBUIFRFWFQgUkVMQVRFRCBGVU5DVElPTlMgIFNUQVJUIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vQ29udmVydHMgYSBjdXJyZW5jeSBmb3JtYXR0ZWQgZmllbGQgdG8gYSBudW1iZXINCmZ1bmN0aW9uIGNvbnZlcnRUb051bWJlcihjdXJyVmFsdWUpIHsNCglpZihjdXJyVmFsdWUgPT0gbnVsbCB8fCBjdXJyVmFsdWUgPT0iIikgew0KCQljdXJyVmFsdWUgPSAiMCI7CQ0KCX0gZWxzZSB7IA0KCQljdXJyVmFsdWUgPSBzdHJpcEN1cnJlbmN5Q29kZShjdXJyVmFsdWUpOw0KCX0NCglyZXR1cm4gY3VyclZhbHVlLnJlcGxhY2UoIiwiLCAiIik7DQoNCn0NCg0KLy9TdHJpcHMgdGhlIGN1cnJlbmN5IGNvZGUgZnJvbSBhIGN1cnJlbmN5IGZpZWxkDQpmdW5jdGlvbiBzdHJpcEN1cnJlbmN5Q29kZShzKSB7DQoJdmFyIGk7DQoJdmFyIHJldHVyblN0cmluZyA9ICIiOw0KCWlmIChzICE9ICIiKSB7DQoJCWZvciAoaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7ICANCgkJCWlmIChJc051bWVyaWMocy5jaGFyQXQoaSkpKSB7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJcmV0dXJuU3RyaW5nID0gUmlnaHQocyxzLmxlbmd0aC1pKTsNCgl9DQoJcmV0dXJuIHJldHVyblN0cmluZzsNCn0NCg0KLy9SZXR1cm4gdGhlICduJyBudW1iZXIgb2YgY2hhcmFjdGVycyBmcm9tIHRoZSBsZWZ0IG9mIHRoZSBzdHJpbmcNCmZ1bmN0aW9uIExlZnQoc3RyLCBuKXsNCglpZiAobiA8PSAwKQ0KCSAgICByZXR1cm4gIiI7DQoJZWxzZSBpZiAobiA+IFN0cmluZyhzdHIpLmxlbmd0aCkNCgkgICAgcmV0dXJuIHN0cjsNCgllbHNlDQoJICAgIHJldHVybiBTdHJpbmcoc3RyKS5zdWJzdHJpbmcoMCxuKTsNCn0NCg0KDQovL1JldHVybiB0aGUgJ24nIG51bWJlciBvZiBjaGFyYWN0ZXJzIGZyb20gdGhlIHJpZ2h0IG9mIHRoZSBzdHJpbmcNCmZ1bmN0aW9uIFJpZ2h0KHN0ciwgbil7DQogICAgaWYgKG4gPD0gMCkNCiAgICAgICByZXR1cm4gIiI7DQogICAgZWxzZSBpZiAobiA+IFN0cmluZyhzdHIpLmxlbmd0aCkNCiAgICAgICByZXR1cm4gc3RyOw0KICAgIGVsc2Ugew0KICAgICAgIHZhciBpTGVuID0gU3RyaW5nKHN0cikubGVuZ3RoOw0KICAgICAgIHJldHVybiBTdHJpbmcoc3RyKS5zdWJzdHJpbmcoaUxlbiwgaUxlbiAtIG4pOw0KICAgIH0NCn0NCg0KLy9EZXRlcm1pbmVzIGlmIHRoZSBwYXNzZWQgaW4gdGV4dCBpcyBudW1lcmljDQpmdW5jdGlvbiBJc051bWVyaWMoc1RleHQpDQp7DQogICB2YXIgVmFsaWRDaGFycyA9ICIwMTIzNDU2Nzg5LiI7DQogICB2YXIgSXNOdW1iZXI9dHJ1ZTsNCiAgIHZhciBDaGFyOw0KIA0KICAgZm9yIChpID0gMDsgaSA8IHNUZXh0Lmxlbmd0aCAmJiBJc051bWJlciA9PSB0cnVlOyBpKyspIA0KICAgICAgeyANCiAgICAgIENoYXIgPSBzVGV4dC5jaGFyQXQoaSk7IA0KICAgICAgaWYgKFZhbGlkQ2hhcnMuaW5kZXhPZihDaGFyKSA9PSAtMSkgDQogICAgICAgICB7DQogICAgICAgICBJc051bWJlciA9IGZhbHNlOw0KICAgICAgICAgfQ0KICAgICAgfQ0KICAgcmV0dXJuIElzTnVtYmVyOw0KfQ0KDQovL1JldHVybnMgdGhlIHZhbHVlIG9mIGEgc3RyaW5nIHVwIHRvIGEgY2VydGFpbiBwb2ludA0KZnVuY3Rpb24gZ2V0U3RyaW5nVXB0byh2YWx1ZSwgdXB0b1ZhbHVlKSB7DQoJcmV0dXJuIHZhbHVlLnN1YnN0cmluZygwLHZhbHVlLmluZGV4T2YodXB0b1ZhbHVlKSkNCn0NCg0KLy9SZXR1cm5zIGEgVVJMIFBhcm0NCmZ1bmN0aW9uIGdldFVSTFBhcmFtKHN0clBhcmFtTmFtZSl7DQogIHZhciBzdHJSZXR1cm4gPSAiIjsNCiAgdmFyIHN0ckhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsNCiAgLy92YXIgc3RySHJlZiA9IGhyZWY7DQogIGlmICggc3RySHJlZi5pbmRleE9mKCI/IikgPiAtMSApew0KICAgIHZhciBzdHJRdWVyeVN0cmluZyA9IHN0ckhyZWYuc3Vic3RyKHN0ckhyZWYuaW5kZXhPZigiPyIpKTsNCiAgICB2YXIgYVF1ZXJ5U3RyaW5nID0gc3RyUXVlcnlTdHJpbmcuc3BsaXQoIiYiKTsNCiAgICBmb3IgKCB2YXIgaVBhcmFtID0gMDsgaVBhcmFtIDwgYVF1ZXJ5U3RyaW5nLmxlbmd0aDsgaVBhcmFtKysgKXsNCiAgICAgIGlmICggDQphUXVlcnlTdHJpbmdbaVBhcmFtXS5pbmRleE9mKHN0clBhcmFtTmFtZSArICI9IikgPiAtMSApew0KICAgICAgICB2YXIgYVBhcmFtID0gYVF1ZXJ5U3RyaW5nW2lQYXJhbV0uc3BsaXQoIj0iKTsNCiAgICAgICAgc3RyUmV0dXJuID0gYVBhcmFtWzFdOw0KICAgICAgICBicmVhazsNCiAgICAgIH0NCiAgICB9DQogIH0NCiAgcmV0dXJuIHN0clJldHVybjsNCn0gDQoNCi8vUmVtb3ZlcyBhIFVSTCBwYXJtDQpmdW5jdGlvbiByZW1vdmVVUkxQYXJhbSh1cmwsIHBhcmFtTmFtZSkgew0KCWlmKCF1cmwpIHJldHVybiB1cmw7DQoJYmVnaW4gPSB1cmwuaW5kZXhPZihwYXJhbU5hbWUpOw0KCWlmIChiZWdpbiA9PSAtMSkgcmV0dXJuIHVybDsNCgkNCgllbmQgPSB1cmwuaW5kZXhPZignJicsIGJlZ2luKTsNCglpZiAoKGJlZ2luID4gMCkgJiYgKHVybC5jaGFyQXQoYmVnaW4tMSkgPT0gJyYnKSkNCgkJYmVnaW4tLTsgLy8ga2lsbCB0aGUgcHJlY2VlZGluZyAnJicNCgkNCglpZiAoZW5kID09IC0xKSB7DQoJCXVybCA9IHVybC5zdWJzdHJpbmcoMCwgYmVnaW4pOw0KCX0gZWxzZSB7DQoJCXVybCA9IHVybC5zdWJzdHJpbmcoMCwgYmVnaW4pICsgdXJsLnN1YnN0cmluZyhlbmQsIHVybC5sZW5ndGgpOw0KCX0NCgkNCglpZiAodXJsLmNoYXJBdCh1cmwubGVuZ3RoLTEpID09ICc/JykNCgkJdXJsID0gdXJsLnN1YnN0cmluZygwLCB1cmwubGVuZ3RoLTEpOw0KCQ0KCXJldHVybiB1cmw7DQp9DQoNCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEpBVkFTQ1JJUFQgVEVYVCBSRUxBVEVEIEZVTkNUSU9OUyAgRU5EIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIENIQU5ORUwgQlVER0VUIFJFTEFURUQgRlVOQ1RJT05TICBTVEFSVCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpmdW5jdGlvbiBjcmVhdGVCdWRnZXRFbnRyeShjYkZpZWxkcywgY2JWYWx1ZXMpew0KCWRlYnVnKCJzdGFydCBjcmVhdGUgYnVkZ2V0IGVudHJ5IGZ1bmN0aW9uIik7DQoJZGVidWcoY2JGaWVsZHMudG9TdHJpbmcoKSk7DQoJZGVidWcoY2JWYWx1ZXMudG9TdHJpbmcoKSk7DQoJDQoJdmFyIGNiRW50cnkgPSBuZXcgU2ZvcmNlLkR5bmFiZWFuKCJTRkRDX0NoYW5uZWxfQnVkZ2V0X0VudHJ5X19jIik7IA0KCWRlYnVnKCJjYkVudHJ5Iik7DQoJZGVidWcoY2JFbnRyeSk7DQoJZGVidWcoImNiRW50cnkuc3VjY2VzcyIpOw0KCWRlYnVnKGNiRW50cnkuc3VjY2Vzcyk7DQoNCgkvL3NldCB0aGUgdmFsdWUgZm9yIGVhY2ggZmllbGQgdmFsdWUNCglmb3IgKHZhciBpID0gMDsgaSA8IGNiRmllbGRzLmxlbmd0aDsgaSsrKXsNCgkJY2JFbnRyeS5zZXQoY2JGaWVsZHNbaV0sIGNiVmFsdWVzW2ldKTsgDQoJfQ0KCWRlYnVnKGNiRW50cnkpOyANCgl2YXIgc2F2ZVJlc3VsdCA9IHNmb3JjZUNsaWVudC5DcmVhdGUoW2NiRW50cnldKVswXTsgDQoJLy9kZWJ1ZyhzYXZlUmVzdWx0LnRvU3RyaW5nKCkpOyANCglpZiAoc2F2ZVJlc3VsdC5zdWNjZXNzID09IHRydWUpIHsgDQoJCWRlYnVnKCJzYXZlZCBzdWNjZXNzZnVsbHkiKTsNCgkJcmV0dXJuIHRydWU7DQoJfSBlbHNlIHsgDQoJCWRlYnVnKCJjcmVhdGVCdWRnZXRFbnRyeSBzYXZlIGVycm9yIik7DQoJCWRlYnVnKHNhdmVSZXN1bHQuZXJyb3JzWzBdLm1lc3NhZ2UpOyANCgkJaWYgKHNhdmVSZXN1bHQuZXJyb3JzWzBdLmZpZWxkc1swXS51cGRhdGVhYmxlID09IGZhbHNlKXsNCgkJCQkvKiBUaGlzIGluZGljYXRlcyB0aGF0IHRoZSB1c2VyIGRvZXMgbm90IGhhdmUgYWNjZXNzIHRvIHRoaXMgb2JqZWN0LiAoVHlwaWNhbCBmb3IgdGhlIHJlYWQgb25seSBkZW1vIHVzZXIpDQoJCQkJUmV0dXJuIGEgdHJ1ZSB2YWx1ZSBzbyB0aGF0IHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGRvZXMgbm90IHNob3cgYW4gZXJyb3IuICovDQoJCQkJcmV0dXJuIHRydWU7DQoJCX0gZWxzZSB7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCgl9DQp9DQoNCmZ1bmN0aW9uIGlzQWxsb2NhdGVkQnVkZ2V0RXhjZWVkZWQoYWxsb2NhdGVkQnVkZ2V0LCBvbGRBcHByb3ZlZFJlcXVlc3RzLCBuZXdBcHByb3ZlZFJlcXVlc3RzKXsNCgkJLy9DaGVja3MgdG8gc2VlIGlmIHRoZSBhcHByb3ZlZCByZXF1ZXN0cyBleGNlZWQgdGhlIGFsbG9jYXRlZCBidWRnZXQgYW1vdW50DQoJCWlmICggcGFyc2VGbG9hdChuZXdBcHByb3ZlZFJlcXVlc3RzKSA+IHBhcnNlRmxvYXQoYWxsb2NhdGVkQnVkZ2V0KSApew0KCQkJdmFyIGV4Y2VlZEFtb3VudCA9IHBhcnNlRmxvYXQobmV3QXBwcm92ZWRSZXF1ZXN0cykgLSBwYXJzZUZsb2F0KGFsbG9jYXRlZEJ1ZGdldCk7DQoJCQl2YXIgbWVzc2FnZSA9ICJUaGUgYWxsb2NhdGVkIGJ1ZGdldCBoYXMgYmVlbiBleGNlZWRlZCBieSBcbiI7DQoJCQltZXNzYWdlICs9IGV4Y2VlZEFtb3VudDsNCgkJCWFsZXJ0KG1lc3NhZ2UpOw0KCQl9DQp9DQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ0hBTk5FTCBCVURHRVQgUkVMQVRFRCBGVU5DVElPTlMgIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQoNCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBTUEVDSUFMIFBSSUNJTkcgUkVMQVRFRCBGVU5DVElPTlMgIFNUQVJUIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8qIFRoaXMgaXMgcHV0IGluIHRoaXMgY2VudHJhbCBmaWxlIGFzIHRoZXJlIGFyZSB0d28gcGxhY2VzIHdoZXJlIHRoaXMgY29kZSBpcyBjYWxsZWQgZnJvbQ0KCQkxLiBmcm9tIHRoZSBTcGVjaWFsIFByaWNlIFJlcXVlc3QgcGFnZQ0KCQkyLiBmcm9tIHRoZSBBcHByb3ZlIFNwZWNpYWwgUHJpY2UgUmVxdWVzdCBwcm9jZXNzLyBzLWNvbnRyb2wNClRoZSBjb2RlIGl0c2VsZiB1cGRhdGVzIHRoZSByZXF1ZXN0ZWQgYW5kIGFwcHJvdmVkIGFtb3VudHMgb24gdGhlIHNwZWNpYWwgcHJpY2UgcmVjb3JkLCBiYXNlZCBvbiB0aGUgaW5kaXZpZHVhbA0KcHJvZHVjdCBsaW5lIGl0ZW1zLg0KKi8NCg0KZnVuY3Rpb24gZ2V0U1BQcm9kdWN0TGluZUl0ZW1Ub3RhbHMoc3BySUQsIHVwZGF0ZVRvdGFscykgew0KCXZhciByZXF1ZXN0ZWRBbW91bnQgPSAwLjAwOw0KCXZhciBhcHByb3ZlZEFtb3VudCA9IDAuMDA7DQoJdmFyIHBlcmNlbnREaXNjb3VudCA9IDAuMDA7DQoJdmFyIHNxbDsNCgl2YXIgcXI7DQoJdmFyIHJldFZhbDsNCgl2YXIgcmV0dXJuQXJyYXkgPSBuZXcgQXJyYXkoNSk7IA0KCS8vcmVzdWx0cyBhcnJheTsgMD1yZXR1cm4gdmFsdWUsIDE9cmVxdWVzdGVkIGFtb3VudCB0b3RhbCwgMj1hcHByb3ZlZCBhbW91bnQgdG90YWwsIDMgPSAlIGRpc2MsIDQgPSBFcnJvciBNZXNzYWdlDQoJdmFyIHZhbGlkYXRlUHJvZHVjdExpbmVJdGVtcyA9IHRydWU7DQoNCgkvL1ByaW1lIHRoZSByZXR1cm4gdmFsdWUNCglyZXR1cm5BcnJheVswXSA9ICJ0cnVlIg0KDQoJLy9BZGQgdGhlIGxpbmUgaXRlbXMNCglzcWwgPSAiU2VsZWN0IGlkLCBUb3RhbF9SZXF1ZXN0ZWRfQW1vdW50X19jLCBBcHByb3ZlZF9EaXNjb3VudF9BbW91bnRfX2MgZnJvbSBTRkRDX1NQQV9Qcm9kdWN0X19jICB3aGVyZSBTUEFfUmVxdWVzdF9fYyAgPSciICsgc3BySUQgKyAiJyI7DQoJcXI9Z2V0UmVjb3JkcyhzcWwpOyANCglyZXF1ZXN0ZWRBbW91bnQgKz0gc3VtRmllbGRWYWx1ZShxciwgIlRvdGFsX1JlcXVlc3RlZF9BbW91bnRfX2MiKTsNCglhcHByb3ZlZEFtb3VudCArPSBzdW1GaWVsZFZhbHVlKHFyLCAiQXBwcm92ZWRfRGlzY291bnRfQW1vdW50X19jIik7DQoJcmV0dXJuQXJyYXlbMV0gPSByZXF1ZXN0ZWRBbW91bnQ7DQoJcmV0dXJuQXJyYXlbMl0gPSBhcHByb3ZlZEFtb3VudDsNCg0KCS8vR2V0IHRoZSBwZXJjZW50IGRpc2NvdW50DQoJc3FsID0gIlNlbGVjdCBpZCwgUmVndWxhcl9QcmljZV9fYywgQXBwcm92ZWRfVW5pdF9QcmljZV9fYyBmcm9tIFNGRENfU1BBX1Byb2R1Y3RfX2MgIHdoZXJlIFNQQV9SZXF1ZXN0X19jID0nIiArIHNwcklEICsgIicgYW5kIEFwcHJvdmVkX1VuaXRfUHJpY2VfX2MgIT0gbnVsbCBhbmQgUmVndWxhcl9QcmljZV9fYyAgIT0gbnVsbCBhbmQgQXBwcm92ZWRfVW5pdF9QcmljZV9fYyAhPSAwIGFuZCBSZWd1bGFyX1ByaWNlX19jICAhPSAwIjsNCglxcj1nZXRSZWNvcmRzKHNxbCk7IA0KCWlmKHFyLnNpemUgPiAwKSB7DQoJCXZhciB0b3RhbFJlZ1ByaWNlID0gc3VtRmllbGRWYWx1ZShxciwgIlJlZ3VsYXJfUHJpY2VfX2MiKTsNCgkJdmFyIHRvdGFsQXBwVW5pdFByaWNlID0gc3VtRmllbGRWYWx1ZShxciwgIkFwcHJvdmVkX1VuaXRfUHJpY2VfX2MiKTsNCgkJcGVyY2VudERpc2NvdW50ID0gKCAodG90YWxSZWdQcmljZS10b3RhbEFwcFVuaXRQcmljZSkgLyB0b3RhbFJlZ1ByaWNlICkqMTAwOw0KCQlyZXR1cm5BcnJheVszXSA9IHBlcmNlbnREaXNjb3VudDsNCgl9DQoJDQoJLy92YWxpZGF0ZSB0aGUgcHJvZHVjdCBsaW5lIGl0ZW1zIGFjdHVhbGx5IHJldHVuIGEgcmVxdWVzdGVkIGFuZCBhcHByb3ZlZCBhbW91bnQNCgl2YXIgZXJyb3JNZXNzYWdlOw0KCWlmIChyZXF1ZXN0ZWRBbW91bnQgPT0gbnVsbCB8fCByZXF1ZXN0ZWRBbW91bnQgPT0gMCkgew0KCQllcnJvck1lc3NhZ2UgPSAiVGhlcmUgaXMgbm8gcmVxdWVzdGVkIGFtb3VudC48YnI+UGxlYXNlIGFkZCBwcm9kdWN0IGRldGFpbHMgdG8gdGhlIHJlcXVlc3QgaW4gb3JkZXIgdG8gYXBwcm92ZSB0aGUgcmVxdWVzdC4iOw0KCQl2YWxpZGF0ZVByb2R1Y3RMaW5lSXRlbXMgPSBmYWxzZTsNCgl9IGVsc2UgaWYgKGFwcHJvdmVkQW1vdW50ID09IG51bGwgfHwgYXBwcm92ZWRBbW91bnQgPT0gMCkgew0KCQllcnJvck1lc3NhZ2UgPSAiVGhlcmUgaXMgbm8gYXBwcm92ZWQgYW1vdW50Ljxicj5QbGVhc2UgZW50ZXIgYW4gJ0FwcHJvdmVkIFVuaXQgUHJpY2UnIGluIHRoZSBwcm9kdWN0KHMpIGluIG9yZGVyIHRvIGFwcHJvdmUgdGhlIHJlcXVlc3QuIjsNCgkJdmFsaWRhdGVQcm9kdWN0TGluZUl0ZW1zID0gZmFsc2U7DQoJfQ0KCWlmICghdmFsaWRhdGVQcm9kdWN0TGluZUl0ZW1zKSB7DQoJCXJldHVybkFycmF5WzBdID0gImZhbHNlIjsNCgkJcmV0dXJuQXJyYXlbNF0gPSBlcnJvck1lc3NhZ2U7DQoJfQ0KDQoJaWYgKHJldHVybkFycmF5WzRdID09IG51bGwgJiYgdXBkYXRlVG90YWxzKXsNCgkJLy9VcGRhdGUgdGhlIFNQIHJlcXVlc3QNCgkJc3FsID0gIlNlbGVjdCBJZCwgUmVxdWVzdGVkX0Ftb3VudF9fYywgQXBwcm92ZWRfQW1vdW50X19jLCBBcHByb3ZlZF9EaXNjb3VudF9fYyBmcm9tIFNGRENfU1BBX1JlcXVlc3RfX2Mgd2hlcmUgaWQgPSciICsgc3BySUQgKyAiJyI7DQoJCXFyPWdldFJlY29yZHMoc3FsKTsgDQoJCXZhciBmaWVsZE5hbWVzID0gbmV3IEFycmF5KCJSZXF1ZXN0ZWRfQW1vdW50X19jIiwgIkFwcHJvdmVkX0Ftb3VudF9fYyIsICJBcHByb3ZlZF9EaXNjb3VudF9fYyIpOw0KCQl2YXIgZmllbGRWYWx1ZXMgPSBuZXcgQXJyYXkocmVxdWVzdGVkQW1vdW50ICsnJywgYXBwcm92ZWRBbW91bnQgKycnLCBwZXJjZW50RGlzY291bnQpOw0KCQl2YXIgc2F2ZVJlc3VsdHM9dXBkYXRlRmllbGRzKHFyLnJlY29yZHNbMF0sIGZpZWxkTmFtZXMsIGZpZWxkVmFsdWVzKTsNCgkJaWYgKHNhdmVSZXN1bHRzID09IG51bGwpDQoJCQlyZXR1cm5BcnJheVswXSA9ICJmYWxzZSI7DQoJfQkNCg0KCXJldHVybiByZXR1cm5BcnJheTsNCn0NCg0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFNQRUNJQUwgUFJJQ0lORyBSRUxBVEVEIEZVTkNUSU9OUyBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ==</fileContent>
    <fileName>C:\Documents and Settings\aodriscoll\Desktop\helperFunction.js</fileName>
    <name>Reject Fund Request</name>
    <supportsCaching>true</supportsCaching>
</Scontrol>
